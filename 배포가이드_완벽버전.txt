==========================================
실제 배포 가이드 (일반인 사용 가능)
==========================================

이 가이드는 Vercel에 배포하여 누구나 사용할 수 있게 만드는 방법입니다.
로컬 개발은 필요 없습니다. 바로 배포하면 됩니다!

==========================================
준비물
==========================================

1. GitHub 계정 (무료)
2. Vercel 계정 (무료)
3. Supabase 계정 (무료) - 회원가입/로그인용
4. OpenWeatherMap API 키 (무료) - 날씨 조회용

모두 무료로 사용 가능합니다!

==========================================
1단계: GitHub에 코드 업로드
==========================================

1-1. GitHub 계정 만들기
   - https://github.com/ 접속
   - "Sign up" 클릭하여 계정 생성

1-2. 새 저장소 만들기
   - GitHub 로그인 후
   - 우측 상단 "+" 버튼 → "New repository" 클릭
   - Repository name: weather-app (또는 원하는 이름)
   - Public 선택 (무료 사용을 위해)
   - "Create repository" 클릭

1-3. 코드 업로드
   
   방법 A: GitHub 웹사이트에서 직접 업로드
   1. 저장소 페이지에서 "uploading an existing file" 클릭
   2. weather-app 폴더의 모든 파일을 드래그 앤 드롭
   3. "Commit changes" 클릭

   방법 B: GitHub Desktop 사용 (더 쉬움)
   1. https://desktop.github.com/ 에서 GitHub Desktop 다운로드
   2. 설치 후 로그인
   3. "File" → "Add Local Repository"
   4. weather-app 폴더 선택
   5. "Publish repository" 클릭

==========================================
2단계: Supabase 설정 (회원가입/로그인용)
==========================================

2-1. Supabase 계정 만들기
   - https://supabase.com/ 접속
   - "Start your project" 클릭하여 계정 생성

2-2. 새 프로젝트 만들기
   - "New Project" 클릭
   - 프로젝트 이름 입력
   - 데이터베이스 비밀번호 설정 (기억해두세요!)
   - 지역 선택 (가장 가까운 곳)
   - "Create new project" 클릭
   - 프로젝트 생성 완료까지 2-3분 대기

2-3. API 키 확인
   - 프로젝트 대시보드에서
   - 좌측 메뉴 "Settings" → "API" 클릭
   - 다음 정보 복사해두기:
     * Project URL (예: https://xxxxx.supabase.co)
     * service_role key (Secret 키, 긴 문자열)

2-4. 이메일 확인 비활성화 (중요!)
   - "Authentication" → "Settings" 클릭
   - "Enable email confirmations" 체크박스 해제
   - "Save" 클릭

==========================================
3단계: OpenWeatherMap API 키 발급
==========================================

3-1. 계정 만들기
   - https://openweathermap.org/api 접속
   - "Sign Up" 클릭하여 무료 계정 생성

3-2. API 키 확인
   - 로그인 후
   - "API keys" 탭 클릭
   - "Default" 키 복사 (또는 새로 생성)

==========================================
4단계: Vercel에 배포
==========================================

4-1. Vercel 계정 만들기
   - https://vercel.com/ 접속
   - "Sign Up" 클릭
   - GitHub 계정으로 로그인 (권장)

4-2. 프로젝트 가져오기
   - Vercel 대시보드에서
   - "Add New..." → "Project" 클릭
   - "Import Git Repository"에서
   - GitHub 저장소 선택
   - "Import" 클릭

4-3. 프로젝트 설정
   - Framework Preset: "Other" 선택
   - Root Directory: "./" (기본값)
   - Build Command: 비워두기
   - Output Directory: 비워두기

4-4. 환경 변수 설정 (중요!)
   - "Environment Variables" 섹션 클릭
   - 다음 3개 변수 추가:

   변수 1:
     Name: SUPABASE_URL
     Value: (2단계에서 복사한 Project URL)
     Environment: Production, Preview, Development 모두 체크

   변수 2:
     Name: SUPABASE_SERVICE_KEY
     Value: (2단계에서 복사한 service_role key)
     Environment: Production, Preview, Development 모두 체크

   변수 3:
     Name: OPENWEATHER_API_KEY
     Value: (3단계에서 복사한 API 키)
     Environment: Production, Preview, Development 모두 체크

4-5. 배포 시작
   - "Deploy" 버튼 클릭
   - 배포 완료까지 2-3분 대기

4-6. 배포 완료
   - "Congratulations!" 메시지가 나타나면 성공!
   - "Visit" 버튼을 클릭하면 사이트가 열립니다
   - URL 예시: https://weather-app-xxxxx.vercel.app

⚠️ 중요: 코드를 수정한 후에는 반드시 GitHub에 푸시해야 합니다!
   자세한 내용은 "코드변경후배포방법.txt" 파일을 참고하세요.

==========================================
5단계: 테스트
==========================================

배포된 사이트에서 다음을 테스트하세요:

✅ 날씨 조회: 도시 이름 입력 후 검색
✅ 회원가입: 이메일과 비밀번호로 가입
✅ 로그인: 가입한 계정으로 로그인
✅ 즐겨찾기: 도시를 즐겨찾기에 추가

==========================================
6단계: 커스텀 도메인 설정 (선택사항)
==========================================

6-1. 도메인 구매
   - 원하는 도메인 구매 (예: namecheap.com, go daddy 등)

6-2. Vercel에 도메인 추가
   - Vercel 프로젝트 → "Settings" → "Domains"
   - 도메인 입력
   - DNS 설정 안내에 따라 도메인 제공업체에서 설정

==========================================
문제 해결
==========================================

Q: 배포가 실패합니다
A:
   - GitHub 저장소에 모든 파일이 업로드되었는지 확인
   - vercel.json 파일이 있는지 확인
   - package.json 파일에 merge conflict가 없는지 확인
   - 환경 변수가 올바르게 설정되었는지 확인

Q: "Unexpected token '<'" 오류
A:
   - package.json 파일에 merge conflict 마커(<<<<<<<)가 있는지 확인
   - GitHub에서 파일을 확인하고 수정
   - "코드변경후배포방법.txt" 참고하여 다시 푸시

Q: 회원가입/로그인이 작동하지 않습니다
A:
   - Vercel 환경 변수에서 SUPABASE_URL과 SUPABASE_SERVICE_KEY 확인
   - Supabase에서 "Enable email confirmations" 해제 확인
   - Supabase 설정 가이드: "Supabase설정가이드.txt" 참고
   - Vercel에서 "Redeploy" 클릭하여 재배포

Q: 날씨 조회가 작동하지 않습니다
A:
   - Vercel 환경 변수에서 OPENWEATHER_API_KEY 확인
   - OpenWeatherMap에서 API 키가 활성화되어 있는지 확인
   - Vercel에서 "Redeploy" 클릭하여 재배포

Q: 사이트가 느립니다
A:
   - Vercel은 자동으로 CDN을 사용하므로 보통 빠릅니다
   - 첫 로딩 후에는 캐시되어 더 빨라집니다

==========================================
비용
==========================================

✅ GitHub: 완전 무료
✅ Vercel: 무료 티어 (소규모 사용 충분)
✅ Supabase: 무료 티어 (소규모 사용 충분)
✅ OpenWeatherMap: 무료 티어 (하루 60회 호출)

모두 무료로 시작 가능하며, 사용량이 많아지면 유료 플랜으로 업그레이드 가능합니다.

==========================================
완료!
==========================================

이제 전 세계 누구나 사용할 수 있는 날씨 앱이 완성되었습니다!
배포된 URL을 공유하면 됩니다.

==========================================
